NODE:=node
#BEAUTIFY:=cat
BEAUTIFY:=js-beautify --type "javascript" -f
MODULES:=RCTMainBundle Bundler invariant renderApplication React ReactIOS ReactComponent ReactElement ReactContext ReactCurrentOwner warning emptyFunction ReactOwner emptyObject ReactUpdates CallbackQueue PooledClass ReactPerf Transaction keyMirror ReactCompositeComponent ReactElementValidator ReactPropTypeLocations monitorCodeUse ReactEmptyComponent ReactErrorUtils ReactLegacyElement ReactPropTransferer joinClasses ReactPropTypeLocationNames instantiateReactComponent ReactNativeComponent keyOf mapObject shouldUpdateReactComponent ReactInstanceHandles ReactRootIndex ReactIOSDefaultInjection InitializeJavaScriptAppEngine JSTimers NativeModules BatchedBridge BatchedBridgeFactory MessageQueue ErrorUtils JSTimersExecution performanceNow performance ExecutionEnvironment RCTDeviceEventEmitter EventEmitter EmitterSubscription EventSubscription EventSubscriptionVendor RKAlertManager NativeModulesDeprecated errorToString Platform stacktrace-parser/index stacktrace-parser/lib/stacktrace-parser loadSourceMap SourceMap Promise ES6Promise setImmediate ImmediateImplementation throwImmediate XMLHttpRequest crc32 fetch EventPluginHub EventPluginRegistry EventPluginUtils EventConstants accumulateInto forEachAccumulated IOSDefaultEventPluginOrder IOSNativeBridgeEventPlugin EventPropagators SyntheticEvent getEventTarget merge NodeHandle ReactDefaultBatchingStrategy ReactIOSComponentEnvironment ReactIOSDOMIDOperations ReactIOSTagHandles ReactMultiChildUpdateTypes ReactIOSReconcileTransaction ReactIOSComponentMixin ReactIOSGlobalInteractionHandler InteractionManager Set Map guid isNode toIterator _shouldPolyfillES6Collection ReactIOSGlobalResponderHandler ReactIOSMount ReactTextComponent ResponderEventPlugin ResponderSyntheticEvent ResponderTouchHistoryStore accumulate RKRawText ReactIOSViewAttributes createReactIOSNativeComponentClass ReactIOSNativeComponent NativeMethodsMixin TextInputState flattenStyle StyleSheetRegistry mergeIntoFast mergeFast ReactIOSEventEmitter ReactEventEmitterMixin ReactIOSStyleAttributes TextStylePropTypes ReactPropTypes ViewStylePropTypes LayoutPropTypes deepDiffer matricesDiffer ReactMultiChild flattenChildren traverseAllChildren styleDiffer deepFreezeAndThrowOnMutationInDev diffRawProperties UniversalWorkerNodeHandle RCTEventEmitter RCTLog RCTJSTimers deprecated RCTRenderingPerf ReactDefaultPerf DOMProperty ReactDefaultPerfAnalysis ReactMount ReactBrowserEventEmitter ViewportMetrics getUnboundedScrollPosition isEventSupported containsNode isTextNode getReactRootElementInContainer GroupsFeedApp DliteLoadingComponent Dlite DliteLogger mixInEventEmitter EventEmitterWithHolding EventHolder EventValidator copyProperties DliteRouter DliteRoutingWrapper DliteRoute DliteRouteInitialData DliteRouteRegExps GraphQL_EXPERIMENTAL generateRQLFieldAlias isEmpty ReactGraphQLQueryBuilder stableStringify URI PHPQuerySerializer URIBase URIRFC3986 URISchemes createObjectFrom ex eprintf isFacebookURI unqualifyURI areSameOrigin goURI XControllerURIBuilder DliteRouteProvider cloneWithProps GraphQLQueryRunner DliteFetchModeConstants DliteLog DliteLogLevel DliteProfiler forEachObject DliteTaskScheduler GraphQLDeferredQueryTracker GraphQLCodedError GraphQLStore ActionCollisionMap ActionQueue DiffQueryBuilder GraphQLConstants GraphQLRangeTracker GraphQLStoreDataHandler GraphQLStoreRangeUtils GraphQLMutationDataHandler GraphQLMutationProperties GraphQLMutatorConstants rql GraphQLMutatorHub GraphQLQueryTracker GraphQLStatusConstants GraphQLStoreChangeEmitter GraphQLStoreNodeRangeTracker GraphQLStoreQueryPath GraphQLStoreReader GraphQLRange GraphQLSegment GraphQLStoreWriter generateClientID generateClientEdgeID generateForceIndex PromiseMap PublicPromise containsQueryRootCall extendArray fetchRQL RQLRequest fetchBatchedRQL DliteAPIConfig DliteAPIConfigDefaults DliteAPIRequest XHRHttpError XHRRequest getSameOriginTransport xhrSimpleDataSerializer createChunkedResponseParser RQLError RQLTimeoutError createRQLError RQLOAuthError RQLTransportError getCrossOriginTransport splitDeferredQueries subtractQuery FBSpinner StyleSheet ImageStylePropTypes ImageResizeMode View StyleSheetPropType createStrictShapeTypeChecker TimerMixin GroupRoute THGroupView LayoutAnimation FeedbackPoller Image EdgeInsetsPropType insetsDiffer ImageSourcePropType ListView ListViewDataSource ScrollView ArrayOfPropType ScrollResponder Subscribable logError ScrollViewPropTypes PointPropType pointsDiffer nativePropType validAttributesFromPropTypes StaticRenderer ReactGraphQL DliteDebugger filterObject DliteReactQueryParamCache createComponentCacheKey ReactInstanceMap DliteRouteQueryCache DliteRouteContext GraphQLStoreQueryResolver ReactGraphQLComparators Dimensions mergeInto RCTNativeAppEventEmitter Text Touchable BoundingDimensions Position TouchEventUtils queryLayoutByID THColors THDockedInputContainer DocumentContent DocumentCharacters fillArray ComposedBlockType ComposedInlineStyle POPAnimation getObjectValues POPAnimationMixin THAnimations mergeDeep mergeHelpers mergeDeepInto THInputBarView DocumentSelectionState FIGColors cssVar CSSVarConfig rgbToHex hsvToHex FBStickerInputView MentionsInput.react AbstractMentionsTextEditor.react AbstractTextEditor.react AbstractTextEditorProps DocumentView DocumentIterator DocumentOffsetCache UnicodeBidi Locale Style UnicodeBidiDirection createArrayFrom toArray TextEditorBlock.react cx TextEditorCompositionHandler Keys isSelectionAtLeafStart TextEditorCompositionState TextEditorEditHandler DataTransfer PhotosMimeType TextEditorModes TextEditorPasteHandler arrayContains getSafeBodyFromHTML UserAgent findAncestorOffsetKey getSelectionOffsetKeyForNode getChangedCharactersFromMutation getDocumentSelection binarySearch TextEditorDragHandler TextInput ReactChildren TouchableWithoutFeedback onlyChild requestAnimationFrame nativeRequestAnimationFrame ModalFullscreenView getMentionableRect TypeaheadNavigation DocumentCompositeDecorator DocumentDecorator ComposedEntityType MentionSpan MentionsTextEditorMixin BaseTextEditorMixin DocumentCommands DocumentModifier ComposedEntityMutability DocumentEntity DocumentEntityInstance DocumentModifierDiffs flattenArray getDocumentEntityRemovalDiffs checkRangeOverlap getRangesForDocumentEntity findRanges DocumentRemovalDirection getCharacterRemovalRange DocumentEntitySegments UnicodeUtils ES6StringUtils DocumentRemovableWord TokenizeUtil repeatString getActiveElement getCurrentInlineStyle getCurrentInlineStyleForOffset getTextContentFromFiles getDefaultKeyBinding getEntityMatcher getHashtagMatches getHashtagRegex MentionsInputTypeaheadView.react TouchableHighlight ensureComponentIsNative TypeaheadViewItem SearchableEntry THCommentPhotoAttachmentPreview TouchableOpacity ix THSounds TouchableBounce clamp copyDocumentContent documentContentsAreEqual fbt substituteTokens Intl getMentionsSearchSource AtSignMentionsStrategy DocumentMentionsRegex CapitalizedNameMentionsStrategy DocumentCompositeMentionsSource DocumentMentionsSource EntitySearchSource AbstractGraphQLSearchSource AbstractAsyncSearchSource AbstractSearchSource Deferred SearchSourceCallbackManager PixelRatio getURIForEntity FilteredSearchSource getTextWithEntitiesFromDocument THFeedbackView CommentAddAction GraphPhotoUpload GraphQLMutationAction ClientIDs randomInt GraphQLMutationQueryCreator RQLMutation defaultRQLMutationCallback FBLikersPopover FBAbstractEntityListPopover FBActorRow FBActorSubtitle StylePropType truncate RouteHandler NavItem InfiniteScrollView Popover MatrixMath FBSeenByPopover FeedbackLikeAction THCommentCell CommentDeleteAction CommentEditAction CommentMenu ActionRow FBAlertManager FBTextEntity FBTextWithEntities.react BaseTextWithEntities.react Newline.react Text.react findSplitPointForText partitionTextAndRanges GraphQLNodeStatus THCommentAttachment FBCommentAttachment FBAttachmentView FBAvatarAttachment intlNumUtils NumberFormatConfig escapeRegex FBEventAttachment iso8601 FBFallbackAttachment FBPhotoAttachment FBPhotoCollage FBPhotoModalViewer CameraRoll FBPhotoViewerOverlay FBQuestionAttachment FBStickerAttachment Sticker FBVideoAttachment THCommentMetadata FBEditHistoryPopover SpinnerIOS TimeStamp formatDate DateConsts DateFormatConfig THProfilePicture THViewConstants createDocumentFromTextWithEntities createDocumentEntityFromGraphQLEntity GraphQLEntityType THLikeSentence THFeedUnitView FBStoryMenu FBGroupJoinState FeedbackSubscriptionActions GroupBlockUserAction GroupRemoveUserAction GroupPinPostAction ReportToAdminAction StoryDeleteActions getStoryLocation FBStoryRenderLocations matchRoute THStoryView THStoryHeaderView THPinnedPostView uniqueKey THRoutingConfig GroupsPermalinkApp LegacyStoryPermalinkRoute StoryPermalinkRoute THPermalinkView THPermalinkInputBarView DockedInputView GroupsPendingPostsApp THGroupPendingPostsView GraphQLConnectionView THPendingPostUnitView GroupPendingPostAction THFeedButton GroupsPostSearchApp GroupPostsSearchRoute THGroupPostSearchView GroupsReportedPostsApp THGroupReportedPostsView THReportedPostUnitView GroupReportedPostAction DliteCatalystProfiler SubscriptionsHandler
output:=$(addsuffix .js, $(MODULES))

all:$(output)

%.js:%.min
	@$(BEAUTIFY) '$<' -o '$@'
	@echo "replace var name" "$@"
	@$(NODE) "../../var.js" '$@'

%.min:
	$(NODE) "../../unpack.js" "../../compressed/ios.js"

.PHONY:all
